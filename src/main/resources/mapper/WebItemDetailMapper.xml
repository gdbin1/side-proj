<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gbk.sideproj.mapper.WebItemDetailMapper">

    <!-- ë‹¨ê±´ Insert -->
    <insert id="insert" parameterType="com.gbk.sideproj.domain.WebItemDetail">
        INSERT INTO webItemDetail (
            plnmNo, pbctNo, rnum, pbctCdtnNo, cltrNo, cltrHstrNo,
            scrnGrpCd, ctgrFullNm, bidMnmtNo, cltrNm, cltrMnmtNo,
            ldnmAdrs, nmrdAdrs, ldnmPnu, dpslMtdCd, dpslMtdNm,
            bidMtdNm, minBidPrc, apslAsesAvgAmt, feeRate,
            pbctBegnDtm, pbctClsDtm, pbctCltrStatNm, uscbCnt, iqryCnt,
            goodsNm, cltrImgFiles
        )
        VALUES (
            #{plnmNo}, #{pbctNo}, #{rnum}, #{pbctCdtnNo}, #{cltrNo}, #{cltrHstrNo},
            #{scrnGrpCd}, #{ctgrFullNm}, #{bidMnmtNo}, #{cltrNm}, #{cltrMnmtNo},
            #{ldnmAdrs}, #{nmrdAdrs}, #{ldnmPnu}, #{dpslMtdCd}, #{dpslMtdNm},
            #{bidMtdNm}, #{minBidPrc}, #{apslAsesAvgAmt}, #{feeRate},
            #{pbctBegnDtm}, #{pbctClsDtm}, #{pbctCltrStatNm}, #{uscbCnt}, #{iqryCnt},
            #{goodsNm}, #{cltrImgFiles}
        )
    </insert>

    <!-- ë‹¨ê±´ ì¡°íšŒ -->
    <select id="findByKeys" resultType="com.gbk.sideproj.domain.WebItemDetail">
        SELECT *
        FROM webItemDetail
        WHERE plnmNo = #{plnmNo}
        AND pbctNo = #{pbctNo}
        ORDER BY rnum ASC
        LIMIT 1
    </select>

    <!-- ðŸ”¥ íŠ¹ì • ë¬¼ê±´ì˜ ëª¨ë“  ìƒì„¸ ì´ë ¥ ì¡°íšŒ (ì‹ ê·œ) -->
    <select id="findAllByKeys" resultType="com.gbk.sideproj.domain.WebItemDetail">
        SELECT *
        FROM webItemDetail
        WHERE plnmNo = #{plnmNo}
        AND pbctNo = #{pbctNo}
        ORDER BY rnum ASC
    </select>

    <!-- ì „ì²´ ì‚­ì œ (ì˜µì…˜) -->
    <delete id="deleteAll">
        DELETE FROM webItemDetail
    </delete>

    <!-- ë‹¨ì¼ ìƒì„¸ ì‚­ì œ -->
    <delete id="deleteByKeys">
        DELETE FROM webItemDetail
        WHERE plnmNo = #{plnmNo}
        AND pbctNo = #{pbctNo}
    </delete>

    <!-- ðŸ”¥ íŠ¹ì • ë¬¼ê±´ì˜ ëª¨ë“  ìƒì„¸ ì´ë ¥ ì‚­ì œ (ì‹ ê·œ) -->
    <delete id="deleteAllByItem">
        DELETE FROM webItemDetail
        WHERE plnmNo = #{plnmNo}
        AND pbctNo = #{pbctNo}
    </delete>

</mapper>
